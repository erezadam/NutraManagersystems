# Permissions Matrix

## מקור
- `supplement-app-system-docs.md`

## תפקידים
- `admin`
- `user`

## מטריצה

| יכולת | admin | user | אכיפה UI | אכיפה שרת |
|---|---:|---:|---|---|
| צפייה ב-Vitamin/Food/Symptom/Disease/Article | כן | כן | אין הגבלה | לפי המיפוי: לא קשיח |
| יצירה/עדכון/מחיקה בישויות תוכן | כן | כן | אין הגבלה | לפי המיפוי: לא קשיח |
| שימוש ב-AI | כן | כן | אין הגבלה | לא קשיח |
| יבוא/יצוא בישויות תוכן | כן | כן | אין הגבלה | לא קשיח |
| גיבוי מערכת | כן | לא | מוצג רק ל-admin | לא קשיח |
| כניסה ל-UserManagement | כן | לא | Guard + hidden nav | כן (Base44 User) |
| עדכון `User.role` | כן | לא | רק במסך admin | כן (Base44 User) |

## כללי הצגה בפועל
- ניווט admin-only תלוי `currentUser.role === 'admin'`
- מסך `UserManagement` מחזיר מסך "אין הרשאה" למי שאינו admin
- שאילתת users מופעלת רק כשה-role admin

## פערי אבטחה ידועים
- רוב ההרשאות לישויות תוכן נאכפות בצד לקוח בלבד
- מומלץ ב-rewrite להוסיף אכיפת RBAC בצד שרת לכל פעולת CRUD

## קריטריון קבלה ל-rewrite (הרשאות)
- כל פעולה תיבדק גם ב-UI וגם ב-API
- משתמש non-admin לא יוכל לגשת לנתוני משתמשים גם בקריאת API ישירה
