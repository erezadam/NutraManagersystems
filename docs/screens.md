# Screens Catalog

## מקור
- מבוסס על `supplement-app-system-docs.md`
- לא אותרה תיקיית `Screens` בפרויקט בזמן ההפקה

## מסכים

### 1. GlobalSearch
- מטרה: חיפוש רוחבי בכל הישויות
- רכיבים מרכזיים: שדה חיפוש, קבוצות תוצאות לפי ישות, FoodDetailModal
- פעולות: חיפוש טקסט, פתיחת פרטי מזון, ניווט לעריכה
- חלונות קופצים: FoodDetailModal
- מצבי טעינה: spinner בעת טעינת שאילתות
- מצבי שגיאה: fallback ללא תוצאות/שגיאת query

### 2. Vitamins
- מטרה: ניהול תוספים
- רכיבים: טבלה לדסקטופ, כרטיסים למובייל, פילטר/מיון עמודות
- פעולות: הוספה, עריכה, מחיקה, חיפוש, סינון, ייבוא/ייצוא, פתיחת AI
- התנהגות לחיצה על שם תוסף: מעבר ישיר לטופס עריכה מלא (`VitaminEdit?id=...`) כדי שכל השדות יהיו ניתנים לעריכה
- חלונות קופצים: VitaminDetailModal, AIInfoModal, ImportExportModal, AlertDialog
- מצבי טעינה: spinner לטעינת רשימה, disabled במחיקה
- מצבי שגיאה: הודעת AI fallback, שגיאות mutation

### 3. VitaminEdit
- מטרה: יצירה/עריכה/מחיקה של תוסף
- רכיבים: טופס תוסף מלא
- פעולות: שמירה, מחיקה, ביטול, הצגת מידע AI על תוסף בפופ-אפ
- כללי שדות (נוכחי):
  - `מסיסות`: שדה בחירה עם ערכי בסיס `מים`, `שמן` + אפשרות הוספת ערך חדש
  - `נוצר`: שדה בחירה עם ערכי בסיס `הגוף`, `המזון` + אפשרות הוספת ערך חדש
  - `פעולות בגוף`: שדה Rich Text
  - `חסר מתוך בדיקות מעבדה`: שדה מאוחד (כולל מיזוג בטוח משדות legacy `תיאור החוסר` ו-`פירוט`)
  - `תסמיני חסר`, `מקורות מזון`, `שילובים מומלצים`, `התנגשויות`: בחירה מרובה עם חיפוש
- חלונות קופצים: AlertDialog למחיקה
- מצבי טעינה: כפתור שמירה במצב pending
- מצבי שגיאה: שגיאות mutation

### 4. Diseases
- מטרה: ניהול פרוטוקולי טיפול
- רכיבים: טבלה/כרטיסים, פילטר/מיון
- פעולות: הוספה, עריכה, חיפוש, ייבוא/ייצוא, פתיחת פרטי מחלה/תוסף
- חלונות קופצים: DiseaseDetailModal, VitaminDetailModal, ImportExportModal
- מצבי טעינה: spinner
- מצבי שגיאה: שגיאות mutation/query

### 5. DiseaseEdit
- מטרה: יצירה/עריכה/מחיקה של פרוטוקול
- רכיבים: DiseaseForm
- פעולות: שמירה, מחיקה, ביטול
- חלונות קופצים: AlertDialog
- מצבי טעינה: pending בשמירה
- מצבי שגיאה: שגיאות mutation

### 6. DeficiencySymptoms
- מטרה: ניהול תסמיני חסר וקשרים
- רכיבים: טבלה/כרטיסים, דיאלוג טופס, פעולות AI/מיגרציה
- פעולות: יצירה, עריכה, מחיקה, AI תגיות, ייבוא/ייצוא, מיגרציית קשרים
- חלונות קופצים: Dialog טופס, VitaminDetailModal, FoodForm, ImportExportModal, AlertDialog
- מצבי טעינה: spinner, generating tags
- מצבי שגיאה: חלק מהשגיאות ב-console בלבד
- שדות טופס `תסמין חדש`:
  - `שם בעברית *`
  - `שם באנגלית`
  - `הערות`
  - `תוספים קשורים` (בחירה מרובה, placeholder: `בחר תוספים...`)
  - `מזונות קשורים` (בחירה מרובה, placeholder: `בחר מזונות...`)

### 7. Foods
- מטרה: ניהול מזונות
- רכיבים: טבלה/כרטיסים, FoodForm, upload תמונה
- פעולות: יצירה, עריכה, מחיקה, ייבוא/ייצוא
- חלונות קופצים: FoodForm Dialog, FoodDetailModal, ImportExportModal, AlertDialog
- מצבי טעינה: spinner, upload pending
- מצבי שגיאה: שגיאות upload/mutation

### 8. Articles
- מטרה: ניהול מאמרים וקישור למזונות
- רכיבים: טבלה/כרטיסים, Dialog פירוט
- פעולות: יצירה, עריכה, מחיקה, ייבוא/ייצוא
- חלונות קופצים: Article detail dialog, FoodForm, ImportExportModal, AlertDialog
- מצבי טעינה: spinner
- מצבי שגיאה: שגיאות mutation/import

### 9. ArticleEdit
- מטרה: יצירה/עריכה/מחיקה של מאמר
- רכיבים: ArticleForm
- פעולות: שמירה, מחיקה, ביטול
- חלונות קופצים: AlertDialog
- מצבי טעינה: pending
- מצבי שגיאה: שגיאות mutation
- שדות טופס `הוספת מאמר חדש`:
  - `שם המאמר בעברית *` (placeholder: `הזן שם מאמר בעברית`)
  - `שם המאמר באנגלית` (placeholder: `Enter article title in English`)
  - `קישור למאמר` (placeholder: `https://example.com/article`)
  - `מזונות` (בחירה מרובה, placeholder: `בחר מזונות...`) + כפתור `הוסף מזון חדש`
  - `תקציר`

### 10. UserManagement (admin)
- מטרה: ניהול משתמשים והרשאות
- רכיבים: טבלת משתמשים, בחירת role inline
- פעולות: חיפוש משתמשים, עדכון role, יצוא
- חלונות קופצים: Export users modal
- מצבי טעינה: spinner
- מצבי שגיאה: שגיאות query/update

### 11. PageNotFound
- מטרה: fallback לנתיב לא קיים
- פעולות: חזרה למסך הבית

### 12. EffectsCases (תופעות ומקרים)
- מטרה: בניית טופס קשרים רוחבי בין תוספים, תסמינים, חוסרים, מזונות ומאמרים
- רכיבים:
  - מצב `תצוגה`: טבלת רשומות עם כל שדות הטופס + פעולות תצוגה/עריכה/מחיקה
  - מצב `עדכון`: טופס מלא במודאל (שם תופעה, 5 שדות בחירה מרובה, הערות)
- פעולות: יצירה, עריכה, מחיקה, חיפוש רשומות, ייבוא/ייצוא JSON+CSV, בחירה מרובה, לחיצה על בחירה להצגת פופ-אפ פרטים, הסרת בחירה נבחרת מהמסך
- חלונות קופצים:
  - Modal `תצוגת תופעה` עם כל שדות הרשומה
  - Modal עריכה/יצירה
  - Modal `יבוא תופעות ומקרים`
  - Modal פרטי בחירה לכל ישות (Vitamin/DeficiencySymptom/Food/Article)
- מצבי טעינה: spinner בזמן טעינת רשימות הישות
- מצבי שגיאה: הודעת שגיאה בעת כשלון טעינת נתונים

## חוקים רוחביים למסכי תצוגה/עריכה
- לכל טופס חדש יש שני מצבים מחייבים:
  - `תצוגה`: הצגת כל שדות הישות עם כותרות
  - `עדכון`: כל שדות הישות במצב עריכה
- תצוגה:
  - בכל רשימה/טבלה/כרטיס תצוגה, שדה טקסט ארוך נחתך ל-2 שורות
  - במקרה של גלישה מעבר לשתי שורות מופיע סימון "יש עוד תוכן"
  - לחיצה על השדה פותחת פופ-אפ עם כל התוכן; לחיצה נוספת סוגרת
- עריכה:
  - בכל מסך עריכה שדות טקסט משתמשים בעורך עשיר בסיסי (כולל צבע טקסט)
  - שדות טקסט במסך עריכה מתרחבים אוטומטית לגובה התוכן
  - אין להשאיר `textarea` סטטי למסכי עריכה עסקיים
- בחירה (Select / Multi-Select):
  - ברירת מחדל: הרשימה סגורה
  - לחיצה על שורת החיפוש פותחת את הרשימה
  - בזמן פתיחה ניתן לחפש ברשימה ולסמן ערכים (כולל בחירה מרובה)
  - ערכים שנבחרו מוצגים בשורת תגיות מעל שדה הבחירה
  - לכל תגית יש כפתור מחיקה (`×`) להסרה מיידית מהבחירה
- אחידות toolbar במסכי ניהול:
  - בכל מסך ניהול יש סדר פעולות אחיד ב-toolbar: חיפוש, כפתור יצירה חדש, יצוא JSON, יצוא CSV, יבוא
  - שמות הכפתורים נשמרים עקביים בין מסכים

## רישום חלונות קופצים מלא
- VitaminDetailModal
- AIInfoModal
- FoodDetailModal
- DiseaseDetailModal
- FoodForm Dialog
- ImportExportModal (Vitamins / Symptoms / Foods / Diseases / Articles)
- Import modal (EffectsCases)
- Users export modal
- AlertDialog למחיקות
- browser `confirm/alert` לפעולות מיגרציה/AI
- toast messages להצלחות/שגיאות

## הנחות/סיכונים
- קטלוג המסכים מבוסס מיפוי טקסטואלי בלבד עד לסיפוק `Screens`
